'use strict'

// ================================================================================
// * Renderer <SDUDOC Renderer>
// --------------------------------------------------------------------------------
//   Designer: Lagomoro <Yongrui Wang>
//   License: MIT
// ================================================================================

// ================================================================================
// * Module dependencies
// --------------------------------------------------------------------------------
/**
 * Module dependencies.
 * @private
 */
// --------------------------------------------------------------------------------

const Layer        = require("./layer/Layer");
const LayerFactory = require("./layer/LayerFactory");
const Graphics     = require("./graphics/Graphics");
const GraphicsUtil = require("./graphics/GraphicsUtil");
// ================================================================================

// ================================================================================
// * Renderer
// --------------------------------------------------------------------------------
function Renderer(){
    this.initialize.apply(this, arguments);
}
// --------------------------------------------------------------------------------
// * Constant
// --------------------------------------------------------------------------------
Renderer.Layer        = Layer;
Renderer.LayerFactory = LayerFactory;
Renderer.GraphicsUtil = GraphicsUtil;
// --------------------------------------------------------------------------------
// * Property
// --------------------------------------------------------------------------------
Renderer.prototype._graphics = null;
// --------------------------------------------------------------------------------
// * Getter & Setter
// --------------------------------------------------------------------------------
Object.defineProperty(Renderer.prototype, 'graphics', {
    get: function() { return this.graphics; },
    set: function(value) { this._graphics = value; },
    configurable: true
});
// --------------------------------------------------------------------------------
// * Initialize
// --------------------------------------------------------------------------------
Renderer.prototype.initialize = function(canvas){
    this._graphics = new Graphics(canvas);
};
Renderer.prototype.clear = function(){
    this._graphics.clear();
};
// --------------------------------------------------------------------------------
// * Render Frame
// --------------------------------------------------------------------------------
/**
 * Do render.
 */
Renderer.prototype.render = function(){
    this._graphics.render();
};
// --------------------------------------------------------------------------------
// * Refresh Frame
// --------------------------------------------------------------------------------
/**
 * Do update.
 */
Renderer.prototype.update = function(){

};
// --------------------------------------------------------------------------------
/**
 * Do refresh.
 */
Renderer.prototype.refresh = function(){
    return this._repository.push(head);
};
// ================================================================================

// ================================================================================
// * Module exports
// --------------------------------------------------------------------------------
/**
 * Module exports.
 * @public
 */
// --------------------------------------------------------------------------------
module.exports = Renderer
// ================================================================================
